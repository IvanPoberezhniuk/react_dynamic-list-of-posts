{"version":3,"sources":["api/api.js","components/Comment.jsx","components/CommentList.jsx","components/Post.jsx","components/PostList.jsx","components/SearchField.jsx","components/Button.jsx","App.jsx","index.js"],"names":["URL","getPosts","fetch","concat","then","res","json","getUsers","getComments","Comments","_ref","comment","react_default","a","createElement","className","href","name","body","email","CommentList","props","comments","map","Comment","key","id","Post","post","title","user","address","city","street","suite","components_CommentList","PostList","posts","components_Post","SearchField","searchFieldValue","updateSerachFieldValue","type","placeholder","value","onChange","autoComplete","Button","loadPosts","buttonStatus","errorText","onClick","disabled","App","state","isLoaded","_callee","_ref2","_ref3","users","cooments","regenerator_default","wrap","_context","prev","next","_this","setState","Promise","all","sent","Object","slicedToArray","groupAllData","t0","message","stop","objectSpread","find","userId","filter","postId","postToRender","event","toLowerCase","replace","trim","includes","target","_this$state","this","postsToRender","Fragment","components_SearchField","components_PostList","components_Button","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.9462a7e6.chunk.js","sourcesContent":["const URL = 'https://jsonplaceholder.typicode.com';\r\n\r\nexport const getPosts = () => {\r\n  return fetch(`${URL}/posts`).then(res => res.json());\r\n};\r\n\r\nexport const getUsers = () => {\r\n  return fetch(`${URL}/users`).then(res => res.json());\r\n};\r\n\r\nexport const getComments = () => {\r\n  return fetch(`${URL}/comments`).then(res => res.json());\r\n};\r\n","import React from 'react';\r\n\r\nconst Comments = ({ comment }) => {\r\n  return (\r\n    <section className=\"post__comment\">\r\n      <span className=\"comment__name\">\r\n        <a href=\"#/\">{comment.name}</a>\r\n      </span>\r\n      <span className=\"comment__body\">{comment.body}</span>\r\n      <span className=\"comment__email\">\r\n        <a href=\"#/\">{comment.email}</a>\r\n      </span>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Comments;\r\n","import React from 'react';\r\nimport Comment from './Comment';\r\n\r\nconst CommentList = props => {\r\n  const { comments } = props;\r\n\r\n  return (\r\n    <section className=\"post__comments\">\r\n      {comments.map(comment => (\r\n        <Comment comment={comment} key={comment.id} />\r\n      ))}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default CommentList;\r\n","import React from 'react';\r\nimport CommentList from './CommentList';\r\n\r\nconst Post = props => {\r\n  const { post } = props;\r\n\r\n  return (\r\n    <section className=\"post\">\r\n      <span className=\"post__title\">{post.title}</span>\r\n      <span className=\"post__author-name\">\r\n        <a href=\"#/\">{post.user.name}</a>\r\n      </span>\r\n      <span className=\"post__body\">{post.body}</span>\r\n      <span className=\"post__email\">\r\n        <a href=\"#/\">{post.user.email}</a>\r\n      </span>\r\n      <span className=\"post__address\">\r\n        <a href=\"#/\">\r\n          {post.user.address.city} {post.user.address.street}{' '}\r\n          {post.user.address.suite}\r\n        </a>\r\n      </span>\r\n      <CommentList comments={post.comments} />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport Post from './Post';\r\n\r\nconst PostList = props => {\r\n  const { posts } = props;\r\n\r\n  return (\r\n    <div className=\"postList\">\r\n      {posts.map(post => (\r\n        <Post post={post} key={post.id} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostList;\r\n","import React from 'react';\r\n\r\nconst SearchField = ({ searchFieldValue, updateSerachFieldValue }) => {\r\n  return (\r\n    <input\r\n      type=\"search\"\r\n      className=\"searchField\"\r\n      placeholder=\"Search by title and text...\"\r\n      value={searchFieldValue}\r\n      onChange={updateSerachFieldValue}\r\n      autoComplete=\"off\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default SearchField;\r\n","import React from 'react';\r\n\r\nconst Button = ({ loadPosts, buttonStatus, errorText }) => {\r\n  const innerText = () => {\r\n    if (!buttonStatus && !errorText) {\r\n      return 'Press Me';\r\n    } else if (errorText) {\r\n      return 'Try Again';\r\n    } else {\r\n      return 'Loading...';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={loadPosts}\r\n      className={`loadPostsButton ${errorText ? 'error' : ''}`}\r\n      disabled={buttonStatus}\r\n    >\r\n      {innerText()}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\nimport './App.scss';\nimport { getPosts, getUsers, getComments } from './api/api';\nimport PostList from './components/PostList';\nimport SearchField from './components/SearchField';\nimport Button from './components/Button';\n\nclass App extends Component {\n  state = {\n    posts: [],\n    isLoaded: false,\n    buttonStatus: false,\n    searchFieldValue: '',\n    errorText: ''\n  };\n\n  loadPosts = async () => {\n    this.setState({\n      buttonStatus: true,\n      errorText: ''\n    });\n\n    try {\n      const [posts, users, cooments] = await Promise.all([\n        getPosts(),\n        getUsers(),\n        getComments()\n      ]);\n\n      this.setState({\n        posts: this.groupAllData(posts, users, cooments),\n        isLoaded: true\n      });\n    } catch (err) {\n      this.setState({\n        isLoaded: false,\n        buttonStatus: false,\n        errorText: err.message\n      });\n    }\n  };\n\n  groupAllData = (posts, users, comments) => {\n    return posts.map(post => ({\n      ...post,\n      user: users.find(user => post.userId === user.id),\n      comments: comments.filter(comment => comment.postId === post.id)\n    }));\n  };\n\n  postToRender = event => {\n    const searchFieldValue = this.state.searchFieldValue\n      .toLowerCase()\n      .replace(/(\\s)/gm, '');\n\n    if (!searchFieldValue.trim()) {\n      return;\n    }\n\n    return this.state.posts.filter(post =>\n      (post.title + post.body)\n        .replace(/(\\s)/gm, '')\n        .toLowerCase()\n        .includes(searchFieldValue)\n    );\n  };\n\n  updateSerachFieldValue = event => {\n    this.setState({\n      searchFieldValue: event.target.value\n    });\n  };\n\n  render() {\n    const {\n      posts,\n      isLoaded,\n      errorText,\n      buttonStatus,\n      searchFieldValue\n    } = this.state;\n\n    let postsToRender = this.postToRender() || posts;\n\n    return (\n      <div className=\"App\">\n        <div className=\"myFancyBlock\">\n          {isLoaded ? (\n            <>\n              <SearchField\n                searchFieldValue={searchFieldValue}\n                updateSerachFieldValue={this.updateSerachFieldValue}\n              />\n              <PostList posts={postsToRender} />\n            </>\n          ) : (\n            <>\n              <Button\n                errorText={errorText}\n                loadPosts={this.loadPosts}\n                buttonStatus={buttonStatus}\n              />\n              <div className=\"error__message\">{errorText}</div>\n            </>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}